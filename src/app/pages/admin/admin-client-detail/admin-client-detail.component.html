<div class="admin-client-detail">
  <!-- Loading State -->
  <div class="loading-state" *ngIf="isLoading">
    <div class="loading-content">
      <mat-spinner diameter="50"></mat-spinner>
      <h3>Chargement du profil client</h3>
      <p>R√©cup√©ration des informations en cours...</p>
    </div>
  </div>

  <!-- Error State -->
  <div class="error-state" *ngIf="!isLoading && hasError">
    <div class="error-content">
      <mat-icon class="error-icon">error_outline</mat-icon>
      <h3>Client non trouv√©</h3>
      <p>Impossible de charger les informations de ce client. V√©rifiez l'identifiant ou r√©essayez plus tard.</p>
      <button mat-raised-button color="primary" (click)="goBack()" class="back-btn">
        <mat-icon>arrow_back</mat-icon>
        Retour √† la liste
      </button>
    </div>
  </div>

  <!-- Client Profile -->
  <div class="client-profile" *ngIf="!isLoading && client && !hasError">
    <!-- Header Section -->
    <div class="header-section">
      <div class="header-content">
        <button mat-stroked-button (click)="goBack()" class="back-button">
          <mat-icon>arrow_back</mat-icon>
          Retour
        </button>
        <div class="header-title">
          <h1>üë§ Profil Client</h1>
          <p class="subtitle">Informations d√©taill√©es du client N¬∞: PS-KONGO.000{{ clientId }}</p>
        </div>
        <img src="assets/images/logo.png" alt="logo" class="platform-icon" style="width: 5%;"/>
      </div>
    </div>

    <!-- Stats Cards -->
    <div class="stats-section">
      <div class="stats-cards">
        <div class="stat-card primary">
          <div class="stat-icon">üí∞</div>
          <div class="stat-content">
            <div class="stat-value">{{ depotCount }}</div>
            <div class="stat-label">D√©p√¥ts Valid√©s</div>
          </div>
        </div>

        <div class="stat-card accent">
          <div class="stat-icon">‚≠ê</div>
          <div class="stat-content">
            <div class="stat-value">{{ fidelityStars.length }}</div>
            <div class="stat-label">Niveau Fid√©lit√©</div>
          </div>
        </div>

        <div class="stat-card" [class.fidele]="isFidele">
          <div class="stat-icon">{{ isFidele ? 'üéñÔ∏è' : 'üë§' }}</div>
          <div class="stat-content">
            <div class="stat-value">{{ isFidele ? 'Fid√®le' : 'Standard' }}</div>
            <div class="stat-label">Statut</div>
          </div>
        </div>
      </div>

      <!-- Fidelity Badge -->
      <div class="fidelity-section" *ngIf="fidelityStars">
        <div class="fidelity-card">
          <div class="fidelity-header">
            <mat-icon class="fidelity-icon">loyalty</mat-icon>
            <h3>Niveau de Fid√©lit√©</h3>
          </div>
          <div class="fidelity-stars">
            <span class="stars">{{ fidelityStars }}</span>
            <span class="stars-placeholder">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</span>
          </div>
          <div class="fidelity-info">
            <p>{{ getFidelityMessage() }}</p>
            <span *ngIf="isFidele" class="fidelity-badge" matTooltip="Client fid√®le - Niveau maximum atteint">
              üéñ Client Fid√®le
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="content-grid">
      <!-- Personal Information -->
      <mat-card class="info-card">
        <div class="card-header">
          <mat-icon class="card-icon">person</mat-icon>
          <h3>Informations Personnelles</h3>
        </div>
        <mat-card-content>
          <div class="info-grid">
            <div class="info-item">
              <span class="label">Nom complet</span>
              <span class="value">{{ getFullName() }}</span>
            </div>
            <div class="info-item">
              <span class="label">Num√©ro de t√©l√©phone</span>
              <span class="value phone">
                <mat-icon>phone</mat-icon>
                {{ client.numeroUtilisateur || 'Non renseign√©' }}
              </span>
            </div>
            <div class="info-item">
              <span class="label">ID Client</span>
              <span class="value id">PS-KONGO.000{{ client.idUtilisateur }}</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Platform IDs -->
      <mat-card class="platforms-card">
        <div class="card-header">
          <mat-icon class="card-icon">casino</mat-icon>
          <h3>Identifiants Plateformes</h3>
        </div>
        <mat-card-content>
          <div class="platforms-grid">
            <div class="platform-item" *ngIf="client.id_1XBET">
              <img src="assets/images/1xbet-icon.png" alt="1XBET" class="platform-icon" />
              <div class="platform-info">
                <span class="platform-name">1XBET</span>
                <span class="platform-id">{{ client.id_1XBET }}</span>
              </div>
            </div>

            <div class="platform-item" *ngIf="client.id_BETWINNER">
              <img src="assets/images/betwinner-icon.png" alt="BETWINNER" class="platform-icon" />
              <div class="platform-info">
                <span class="platform-name">BETWINNER</span>
                <span class="platform-id">{{ client.id_BETWINNER }}</span>
              </div>
            </div>

            <div class="platform-item" *ngIf="client.id_MELBET">
              <img src="assets/images/melbet-icon.png" alt="MELBET" class="platform-icon" />
              <div class="platform-info">
                <span class="platform-name">MELBET</span>
                <span class="platform-id">{{ client.id_MELBET }}</span>
              </div>
            </div>

            <div class="platform-item" *ngIf="client.id_1WIN">
              <img src="assets/images/1win-icon.png" alt="1WIN" class="platform-icon" />
              <div class="platform-info">
                <span class="platform-name">1WIN</span>
                <span class="platform-id">{{ client.id_1WIN }}</span>
              </div>
            </div>

            <div class="platform-item" *ngIf="client.id_888STARZ">
              <img src="assets/images/888starz-icon.png" alt="888STARZ" class="platform-icon" />
              <div class="platform-info">
                <span class="platform-name">888STARZ</span>
                <span class="platform-id">{{ client.id_888STARZ }}</span>
              </div>
            </div>

            <div class="no-platforms" *ngIf="!hasPlatformIds()">
              <mat-icon>info</mat-icon>
              <span>Aucun identifiant de plateforme enregistr√©</span>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Action Buttons -->
    <div class="actions-section">
      <div class="action-buttons">
        <button mat-raised-button color="primary" (click)="voirHistorique()" class="action-btn">
          <mat-icon>history</mat-icon>
          Historique Complet
        </button>
        <button mat-raised-button color="accent" (click)="voirDepots()" class="action-btn">
          <mat-icon>payments</mat-icon>
          D√©p√¥ts
        </button>
        <button mat-raised-button color="accent" (click)="voirRetraits()" class="action-btn">
          <mat-icon>savings</mat-icon>
          Retraits
        </button>
      </div>
    </div>
  </div>
</div>
