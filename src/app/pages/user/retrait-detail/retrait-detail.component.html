<mat-card *ngIf="retrait" class="retrait-detail-card">
  <div class="header">
    <h2><span class="emoji">ğŸ’¼</span> DÃ©tail du retrait</h2>
    <span class="badge"
      [ngClass]="{
        'pending': retrait.transactionState === 'PENDING',
        'validated': retrait.transactionState === 'VALIDATED',
        'rejected': retrait.transactionState === 'REJECTED'
      }">
      {{
        retrait.transactionState === 'PENDING' ? 'â³ En attente' :
        retrait.transactionState === 'VALIDATED' ? 'âœ… ValidÃ©' :
        retrait.transactionState === 'REJECTED' ? 'âŒ RejetÃ©' : 'Inconnu'
      }}
    </span>
  </div>
  <!-- Affichage du motif si rejetÃ© -->
  <div *ngIf="retrait.transactionState === 'REJECTED'" class="rejection-section">
    <mat-divider></mat-divider>
    <p class="motif-title">â— Motif du rejet :</p>
    <p class="motif-texte">{{ motif || 'Nous avons rejetÃ© votre retrait' }}</p>
    <div class="call-admin">
      <!-- <p>Pour plus d'information contacter nos assistances</p> -->
      <a class="call-button" href="tel:+22660417255">ğŸ“ Appeler lâ€™assistance</a>
    </div>
  </div>

  <h3 class="montant">{{ retrait.montant | number }} FCFA</h3>

  <div class="infos-grid">
    <p><strong>ğŸ“ NumÃ©ro :</strong> {{ retrait.numeroEnvoyant }}</p>
    <p><strong>ğŸŒ Pays :</strong> {{ retrait.pays }}</p>
    <p><strong>ğŸ’³ Option :</strong> {{ retrait.optionRetrait }}</p>
    <p><strong>ğŸ¦ Plateforme :</strong> {{ retrait.optionDeTransaction }}</p>
    <p><strong>ğŸ†” ID Plateforme :</strong> {{ getIdPlateforme(retrait) }}</p>
    <p><strong>ğŸ“… Date :</strong> {{ retrait.dateRetrait | date:'dd/MM/yyyy - HH:mm:ss' }}</p>
  </div>

  <div *ngIf="retrait.file" class="image-section">
    <p><strong>ğŸ–¼ï¸ Justificatif :</strong></p>
    <img
      [src]="toBase64(retrait.file)"
      alt="Justificatif retrait"
      (click)="toggleZoom()"
      [class.zoomed]="zoomed"
    />
  </div>

  <div class="btn-retour">
    <button mat-stroked-button color="primary" (click)="goBack()">â¬…ï¸ Retour</button>
  </div>
</mat-card>

<div class="empty" *ngIf="!retrait">
  <p>Aucun retrait trouvÃ©.</p>
</div>
