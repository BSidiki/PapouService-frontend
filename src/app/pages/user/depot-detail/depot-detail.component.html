<mat-card *ngIf="depot" class="depot-detail-card">
  <div class="header">
    <h2><span class="emoji">ğŸ’¸</span> DÃ©tail du dÃ©pÃ´t</h2>
    <span class="badge"
      [ngClass]="{
        'pending': depot.transactionState === 'PENDING',
        'validated': depot.transactionState === 'VALIDATED',
        'rejected': depot.transactionState === 'REJECTED'
      }">
      {{
        depot.transactionState === 'PENDING' ? 'â³ En attente' :
        depot.transactionState === 'VALIDATED' ? 'âœ… ValidÃ©' :
        depot.transactionState === 'REJECTED' ? 'âŒ RejetÃ©' : 'Inconnu'
      }}
    </span>
  </div>
  <!-- Affichage du motif si rejetÃ© -->
  <div *ngIf="depot.transactionState === 'REJECTED'" class="rejection-section">
    <mat-divider></mat-divider>
    <p class="motif-title">â— Motif du rejet :</p>
    <p class="motif-texte">{{ motif || 'Nous avons rejetÃ© votre dÃ©pÃ´t' }}</p>

    <div class="call-admin">
      <!-- <p>Pour plus d'information contacter nos assistances</p> -->
      <a class="call-button" href="tel:+22660417255">ğŸ“ Appeler lâ€™assistance</a>
    </div>
  </div>

  <h3 class="montant">Montant de dÃ©pÃ´t : {{ depot.montant | number }} FCFA</h3>

  <div class="infos-grid">
    <p><strong>ğŸ“ NumÃ©ro :</strong> {{ depot.numeroEnvoyant }}</p>
    <p><strong>ğŸŒ Pays :</strong> {{ depot.pays }}</p>
    <p><strong>ğŸ’³ Option :</strong> {{ depot.optionDepot }}</p>
    <p><strong>ğŸ¦ Plateforme :</strong> {{ depot.optionDeTransaction }}</p>
    <p><strong>ğŸ†” ID Plateforme :</strong> {{ getIdPlateforme(depot) }}</p>
    <p><strong>ğŸ“… Date :</strong> {{ depot.dateDepot | date:'dd/MM/yyyy - HH:mm:ss' }}</p>
  </div>

  <div *ngIf="depot.capture" class="image-section">
    <p><strong>ğŸ–¼ï¸ Preuve de dÃ©pÃ´t :</strong></p>
    <img
      [src]="toBase64(depot.capture)"
      alt="Preuve dÃ©pÃ´t"
      (click)="toggleZoom()"
      [class.zoomed]="zoomed"
    />
  </div>

  <div class="btn-retour">
    <button mat-stroked-button color="primary" (click)="goBack()">â¬…ï¸ Retour</button>
  </div>
</mat-card>

<div class="depot-detail-card empty" *ngIf="!depot">
  <p>Aucun dÃ©pÃ´t trouvÃ©.</p>
</div>
